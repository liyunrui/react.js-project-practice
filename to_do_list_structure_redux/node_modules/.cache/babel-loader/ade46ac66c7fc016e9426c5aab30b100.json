{"ast":null,"code":"import _slicedToArray from \"/Users/yunrui.li/Desktop/reacjs_from_scratch/to_do_list_structure_redux/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/yunrui.li/Desktop/reacjs_from_scratch/to_do_list_structure_redux/src/views/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport { Button, Input, Checkbox } from 'antd';\nimport TodoForm from '../components/TodoForm/TodoForm.js';\nimport TodoFooter from '../components/TodoList/Todofooter.js';\nimport TodoItem from '../components/TodoList/TodoItem.js';\nimport { useMappedState, useDispatch } from 'redux-react-hook';\n\nfunction App() {\n  // mock object  [\n  //   {description:'xxx',done:false},\n  //   {description:'xxx2',done:true},\n  //   {description:'xxx3',done:false}\n  // ]\n  // step1: initilize all states we need:\n  // 1. todes --> array\n  // 2.\n  // 3. notDoneCount --> int\n  const _useState = useState( // default of tods is an empty array\n  // Later, we will push the object into todos.\n  [// {description:'xxx',done:false},\n    // {description:'xxx2',done:false},\n    // {description:'xxx3',done:false}\n  ]),\n        _useState2 = _slicedToArray(_useState, 2),\n        todos = _useState2[0],\n        setTodos = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        input = _useState4[0],\n        setInput = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        notDoneCount = _useState6[0],\n        setNotDoneCount = _useState6[1]; // \n\n\n  const name = useMappedState(state => state.name); // 存入 prompt 內容到 global state\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const answer = prompt('請問你的名字是 ？');\n    dispatch({\n      type: \"Change_NAME\",\n      payload: {\n        name: answer\n      }\n    });\n  }, []); // step2: defien the function we nedd \n\n  const check = todoId => {\n    // check --> 打勾 server\n    // copy array\n    const newTodos = [...todos]; // update conetent of array\n\n    newTodos[todoId].done = newTodos[todoId].done ? false : true; // update count\n\n    if (newTodos[todoId].done) {\n      setNotDoneCount(notDoneCount - 1);\n    } else {\n      setNotDoneCount(notDoneCount + 1);\n    }\n\n    setTodos(newTodos);\n  };\n\n  const todoNewInput = e => {\n    // get input (task) from user\n    setInput(e.target.value);\n  };\n\n  const add = () => {\n    // add new task into todos array\n    const newTodos = [...todos];\n    const coentent_of_todo = {\n      description: input,\n      done: false\n    };\n    newTodos.push(coentent_of_todo);\n    setTodos(newTodos); // improve user's ex\n\n    setInput('');\n    setNotDoneCount(notDoneCount + 1);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    style: {\n      marginTop: '50px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \"React Todo List\"), todos.map((todo, index) => {\n    return React.createElement(TodoItem, {\n      index: index,\n      check: check,\n      todo: todo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    });\n  }), React.createElement(TodoFooter, {\n    notDoneCount: notDoneCount,\n    todos: todos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(TodoForm, {\n    inputProps: input,\n    addProps: add,\n    todoNewInputProps: todoNewInput,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yunrui.li/Desktop/reacjs_from_scratch/to_do_list_structure_redux/src/views/App.js"],"names":["React","useState","useEffect","Button","Input","Checkbox","TodoForm","TodoFooter","TodoItem","useMappedState","useDispatch","App","todos","setTodos","input","setInput","notDoneCount","setNotDoneCount","name","state","dispatch","answer","prompt","type","payload","check","todoId","newTodos","done","todoNewInput","e","target","value","add","coentent_of_todo","description","push","marginTop","map","todo","index"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { Button,Input,Checkbox } from 'antd';\nimport TodoForm from '../components/TodoForm/TodoForm.js'\nimport TodoFooter from '../components/TodoList/Todofooter.js'\nimport TodoItem from '../components/TodoList/TodoItem.js'\nimport {useMappedState,useDispatch} from 'redux-react-hook';\n\nfunction App() {\n\n  // mock object  [\n  //   {description:'xxx',done:false},\n  //   {description:'xxx2',done:true},\n  //   {description:'xxx3',done:false}\n  // ]\n\n  // step1: initilize all states we need:\n  // 1. todes --> array\n  // 2.\n  // 3. notDoneCount --> int\n  const [todos,setTodos] = useState(\n    // default of tods is an empty array\n    // Later, we will push the object into todos.\n    [\n      // {description:'xxx',done:false},\n      // {description:'xxx2',done:false},\n      // {description:'xxx3',done:false}\n    ]\n  )\n\n  const [input,setInput] = useState('')\n  const [notDoneCount,setNotDoneCount] = useState(0)\n  // \n  const name = useMappedState(state=> state.name);\n  // 存入 prompt 內容到 global state\n  const dispatch = useDispatch()\n  useEffect(()=>{\n    const answer = prompt('請問你的名字是 ？')\n    dispatch({type:\"Change_NAME\",payload:{name:answer}})\n  },[])\n  // step2: defien the function we nedd \n  const check=(todoId)=>{\n    // check --> 打勾 server\n\n    // copy array\n    const newTodos = [...todos]\n    // update conetent of array\n    newTodos[todoId].done =  newTodos[todoId].done ? false:true\n    // update count\n    if(newTodos[todoId].done){\n      setNotDoneCount(notDoneCount-1)\n    }else{\n      setNotDoneCount(notDoneCount+1)\n    }\n    setTodos(newTodos)\n  }\n\n  const todoNewInput=(e)=>{\n    // get input (task) from user\n    setInput(e.target.value)\n  }\n\n  const add=()=>{\n    // add new task into todos array\n    const newTodos = [...todos]\n    const coentent_of_todo = {description:input,done:false}\n    newTodos.push(coentent_of_todo)\n    setTodos(newTodos)\n    // improve user's ex\n    setInput('')\n    setNotDoneCount(notDoneCount+1)\n  }\n\n  return (\n    <div className=\"App\">\n      <h1 style={{marginTop:'50px'}}>React Todo List</h1>\n      {/* <input type=\"checkbox\"/>你好 */}\n      {\n        todos.map((todo,index)=>{\n        return(\n            <TodoItem index={index} check = {check} todo = {todo}/>\n          )\n        })\n      }\n      <TodoFooter notDoneCount = {notDoneCount} todos = {todos}/>\n      {/* JSＸ的功能就是可以把import 的 function當作元件使用 */}\n      <TodoForm inputProps={input} addProps = {add} todoNewInputProps = {todoNewInput}/>\n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}